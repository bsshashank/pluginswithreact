'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _electron=require('electron');var _electron2=_interopRequireDefault(_electron);var _react=require('react');var _react2=_interopRequireDefault(_react);var _radium=require('radium');var _radium2=_interopRequireDefault(_radium);var _DocumentDatabase=require('./DocumentDatabase');var _DocumentDatabase2=_interopRequireDefault(_DocumentDatabase);var _SqlDatabase=require('./SqlDatabase');var _SqlDatabase2=_interopRequireDefault(_SqlDatabase);var _Window=require('./Window');var _Window2=_interopRequireDefault(_Window);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return call&&(typeof call==='object'||typeof call==='function')?call:self}function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var app=_electron2.default.remote.app;var appCfg=app.sysConfig();/**
 * 
 * 
 * @class Shell
 * @extends {React.Component}
 */var Shell=function(_React$Component){_inherits(Shell,_React$Component);/**
   * Creates an instance of Shell.
   * 
   */function Shell(){_classCallCheck(this,Shell);var _this=_possibleConstructorReturn(this,Object.getPrototypeOf(Shell).call(this));_this.title=appCfg.app.name+' '+appCfg.app.version;_this.sqlDB=new _SqlDatabase2.default(appCfg.app.name);_this.docDB=new _DocumentDatabase2.default(appCfg.app.name);_this.minimizeApp=_this.minimizeApp.bind(_this);_this.toggleFullScreen=_this.toggleFullScreen.bind(_this);_this.closeApp=_this.closeApp.bind(_this);return _this}/**
   * 
   */_createClass(Shell,[{key:'minimizeApp',value:function minimizeApp(){app.minimizeAppToSysTray()}/**
   * 
   */},{key:'toggleFullScreen',value:function toggleFullScreen(){app.toggleFullscreen()}/**
   * 
   */},{key:'closeApp',value:function closeApp(){this.docDB.save({event:'closed'}).then(function(){app.close()})}/**
   * 
   * 
   * @returns
   */},{key:'render',value:function render(){return _react2.default.createElement(_Window2.default,{appName:this.title,activeModule:'Todo',style:appCfg.platform,closeHandler:this.closeApp,fullScreenHandler:this.toggleFullScreen,minimizeHandler:this.minimizeApp},this.props.children)}}]);return Shell}(_react2.default.Component);exports.default=(0,_radium2.default)(Shell);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNoZWxsLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiaWtCQUNBLGtDLGlEQUNBLDRCLDJDQUNBLDhCLDZDQUVBLG9ELGlFQUNBLDBDLHVEQUVBLGdDLDA2QkFFQSxHQUFNLEtBQU0sbUJBQVMsTUFBVCxDQUFnQixHQUE1QixDQUNBLEdBQU0sUUFBUyxJQUFJLFNBQUosRUFBZixDQUVBOzs7OztNQU1NLE0sOERBRUo7OztLQUlBLGdCQUFjLGdIQUVaLE1BQUssS0FBTCxDQUFnQixPQUFPLEdBQVAsQ0FBVyxJQUEzQixLQUFtQyxPQUFPLEdBQVAsQ0FBVyxPQUE5QyxDQUNBLE1BQUssS0FBTCxDQUFhLDBCQUFnQixPQUFPLEdBQVAsQ0FBVyxJQUEzQixDQUFiLENBQ0EsTUFBSyxLQUFMLENBQWEsK0JBQXFCLE9BQU8sR0FBUCxDQUFXLElBQWhDLENBQWIsQ0FFQSxNQUFLLFdBQUwsQ0FBbUIsTUFBSyxXQUFMLENBQWlCLElBQWpCLE9BQW5CLENBQ0EsTUFBSyxnQkFBTCxDQUF3QixNQUFLLGdCQUFMLENBQXNCLElBQXRCLE9BQXhCLENBQ0EsTUFBSyxRQUFMLENBQWdCLE1BQUssUUFBTCxDQUFjLElBQWQsT0FBaEIsQ0FSWSxZQVNiLENBRUQ7O3dFQUdjLENBQ1osSUFBSSxvQkFBSixFQUNELENBRUQ7O2dFQUdtQixDQUNqQixJQUFJLGdCQUFKLEVBQ0QsQ0FFRDs7Z0RBR1csQ0FDVCxLQUFLLEtBQUwsQ0FBVyxJQUFYLENBQWdCLENBQUUsTUFBTyxRQUFULENBQWhCLEVBQXFDLElBQXJDLENBQTBDLFVBQU0sQ0FDOUMsSUFBSSxLQUFKLEVBQ0QsQ0FGRCxDQUdELENBRUQ7Ozs7NENBS1MsQ0FDUCxNQUNFLGlEQUFRLFFBQVMsS0FBSyxLQUF0QixDQUNRLGFBQWEsTUFEckIsQ0FFUSxNQUFPLE9BQU8sUUFGdEIsQ0FHUSxhQUFjLEtBQUssUUFIM0IsQ0FJUSxrQkFBbUIsS0FBSyxnQkFKaEMsQ0FLUSxnQkFBaUIsS0FBSyxXQUw5QixFQU1JLEtBQUssS0FBTCxDQUFXLFFBTmYsQ0FTSCxDLGtCQXhEaUIsZ0JBQU0sUyxrQkEyRFgscUJBQU8sS0FBUCxDIiwiZmlsZSI6IlNoZWxsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZsb3dcbmltcG9ydCBlbGVjdHJvbiBmcm9tICdlbGVjdHJvbic7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJhZGl1bSBmcm9tICdyYWRpdW0nO1xuXG5pbXBvcnQgRG9jdW1lbnREYXRhYmFzZSBmcm9tICcuL0RvY3VtZW50RGF0YWJhc2UnO1xuaW1wb3J0IFNxbERhdGFiYXNlIGZyb20gJy4vU3FsRGF0YWJhc2UnO1xuXG5pbXBvcnQgV2luZG93IGZyb20gJy4vV2luZG93JztcblxuY29uc3QgYXBwID0gZWxlY3Ryb24ucmVtb3RlLmFwcDtcbmNvbnN0IGFwcENmZyA9IGFwcC5zeXNDb25maWcoKTtcblxuLyoqXG4gKiBcbiAqIFxuICogQGNsYXNzIFNoZWxsXG4gKiBAZXh0ZW5kcyB7UmVhY3QuQ29tcG9uZW50fVxuICovXG5jbGFzcyBTaGVsbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgU2hlbGwuXG4gICAqIFxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnRpdGxlID0gYCR7YXBwQ2ZnLmFwcC5uYW1lfSAke2FwcENmZy5hcHAudmVyc2lvbn1gO1xuICAgIHRoaXMuc3FsREIgPSBuZXcgU3FsRGF0YWJhc2UoYXBwQ2ZnLmFwcC5uYW1lKTtcbiAgICB0aGlzLmRvY0RCID0gbmV3IERvY3VtZW50RGF0YWJhc2UoYXBwQ2ZnLmFwcC5uYW1lKTtcblxuICAgIHRoaXMubWluaW1pemVBcHAgPSB0aGlzLm1pbmltaXplQXBwLmJpbmQodGhpcyk7XG4gICAgdGhpcy50b2dnbGVGdWxsU2NyZWVuID0gdGhpcy50b2dnbGVGdWxsU2NyZWVuLmJpbmQodGhpcyk7XG4gICAgdGhpcy5jbG9zZUFwcCA9IHRoaXMuY2xvc2VBcHAuYmluZCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcbiAgICovXG4gIG1pbmltaXplQXBwKCkge1xuICAgIGFwcC5taW5pbWl6ZUFwcFRvU3lzVHJheSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFxuICAgKi9cbiAgdG9nZ2xlRnVsbFNjcmVlbigpIHtcbiAgICBhcHAudG9nZ2xlRnVsbHNjcmVlbigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFxuICAgKi9cbiAgY2xvc2VBcHAoKSB7XG4gICAgdGhpcy5kb2NEQi5zYXZlKHsgZXZlbnQ6ICdjbG9zZWQnIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgYXBwLmNsb3NlKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogXG4gICAqIFxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8V2luZG93IGFwcE5hbWU9e3RoaXMudGl0bGV9XG4gICAgICAgICAgICAgIGFjdGl2ZU1vZHVsZT0nVG9kbydcbiAgICAgICAgICAgICAgc3R5bGU9e2FwcENmZy5wbGF0Zm9ybX1cbiAgICAgICAgICAgICAgY2xvc2VIYW5kbGVyPXt0aGlzLmNsb3NlQXBwfVxuICAgICAgICAgICAgICBmdWxsU2NyZWVuSGFuZGxlcj17dGhpcy50b2dnbGVGdWxsU2NyZWVufVxuICAgICAgICAgICAgICBtaW5pbWl6ZUhhbmRsZXI9e3RoaXMubWluaW1pemVBcHB9PlxuICAgICAgICB7IHRoaXMucHJvcHMuY2hpbGRyZW4gfVxuICAgICAgPC9XaW5kb3c+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYWRpdW0oU2hlbGwpO1xuIl19